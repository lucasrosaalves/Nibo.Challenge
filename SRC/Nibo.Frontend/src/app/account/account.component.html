<div class="container my-5">
  <ngb-alert type="warning" class="my-3" *ngIf="hasErro" (close)="closeAlert()">
    Erro ao realizar a comunicação com o servidor. Tente novamente mais tarde.
  </ngb-alert>

  <div class="row" *ngIf="!selectedAccount">
    <div class="col-12">
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">Banco</th>
          <th scope="col">Conta</th>
          <th scope="col">Saldo</th>
          <th scope="col">Detalhes</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let account of accounts; index as i">
          <td>
            {{ account.bank }}
          </td>
          <td>
            {{ account.accountNumber  }}
          </td>
          <td>
            {{ account.balance }}
          </td>
          <td>
            <button class="btn btn-primary" (click)="selectAccount(account)">
              Detalhes
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

  </div>

  <div class="row" *ngIf="selectedAccount">
    <div class="col-12 back-container">
      <button class="btn btn-primary my-2" (click)="backToList()">
        Voltar
      </button>
    </div>
    <div class="col-12">
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">Data</th>
          <th scope="col">Valor</th>
          <th scope="col">Descricao</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let transaction of paginatedTransactions; index as i">
          <td>
            {{ transaction.date }}
          </td>
          <td>
            {{ transaction.value  }}
          </td>
          <td>
            {{ transaction.description }}
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <div class="col-12">
      <div class="pagination-container">
        <button class="btn btn-secondary m-2" 
        [disabled]="page ===1" (click)="changePage(-1)">
          <
        </button>
        <button class="btn btn-secondary m-2"
         [disabled]="page === totalPages" (click)="changePage(+1)">
          >
        </button>
      </div>

    </div>
  </div>
</div>
